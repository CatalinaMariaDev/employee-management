<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Leave Verification</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.10.2/fullcalendar.min.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.10.2/fullcalendar.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
</head>
<style>
    .container {
             max-width: 1000px;
     }

     .navbar {
         position: fixed;
         top: 0;
         left: 0;
         width: 100%;
         z-index: 1000;
     }

     .left-menu {
         margin-top: 70px;
         position: fixed;
         top: 60px;
         left: 0;
         width: 250px;
         height: 100%;
         background-color: #f8f9fa;
         z-index: 999;
     }

     .container-custom {
         margin-left: auto;
         margin-right: auto;
         max-width: 1000px;
         padding-top: 70px;
         padding-left: 20px;
         text-align: center;
     }

     input[type="date"] {
         width: calc(100% - 20px);
         padding: 8px 10px;
         font-size: 14px;
         border-radius: 4px;
         border: 1px solid #ced4da;
     }

     @media (max-width: 1500px) {
         .container-custom {
              max-width: 500px;
         }

         .left-menu {
             position: fixed;
             top: 0;
             left: 0;
             width: 100%;
             height: auto;
             background-color: #f8f9fa;
             z-index: 999;
         }

         .container-custom {
             padding-top: 60px;
             padding-left: 0;
         }
     }

     .cerere-concediu {
         padding: 15px;
         border-radius: 8px;
         margin-bottom: 20px;
     }

     .aprobat {
         background-color: #d4edda; /* Verde */
         border-color: #c3e6cb;
     }

     .in-asteptare {
         background-color: #fff3cd; /* Galben */
         border-color: #ffeeba;
     }

     .respins {
         background-color: #f8d7da; /* Ro»ôu */
         border-color: #f5c6cb;
     }

     .empty-message {
         text-align: center;
         color: #888;
     }

     .cerere-concediu {
         box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
         transition: box-shadow 0.3s ease;
     }

     .cerere-concediu:hover {
         box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
     }

     }

     .navbar {
         position: fixed;
         top: 0;
         left: 0;
         width: 100%;
         z-index: 1000;
     }

     .left-menu {
         margin-top: 70px;
         position: fixed;
         top: 60px;
         left: 0;
         width: 250px;
         height: 100%;
         background-color: #f8f9fa;
         z-index: 999;
     }

     input[type="date"] {
         width: calc(100% - 20px);
         padding: 8px 10px;
         font-size: 14px;
         border-radius: 4px;
         border: 1px solid #ced4da;
     }

     @media (max-width: 1065px) {
         .container-custom {
             margin-top: 300px;
         }

         .left-menu {
             position: fixed;
             top: 0;
             left: 0;
             width: 100%;
             height: auto;
             background-color: #f8f9fa;
             z-index: 999;
         }

         .container-custom {
             padding-top: 60px;
             padding-left: 0;
         }
     }

</style>
<body>
<div th:replace="navbar_component :: navBar" class="navbar"></div>
<div th:replace="left_menu_component :: leftMenu" class="left-menu"></div>
<div class="container-custom container">

<h2>Verifica concedii</h2>
<form th:action="@{/search_leaves}" method="post">
    <label for="username">Username:</label>
    <input type="text" id="username" name="username" th:value="${usernameforsearch}" required>
    <button type="submit">Search</button>
</form>

<div id="calendar"></div>
</div>
<div th:replace="footer_component :: footer" class="footer"></div>

<script th:inline="javascript">
    var events = [];

    /*[# th:each="leave : ${approvedLeaves}"]*/
    var color;
    switch ([[${leave.tipConcediu.name()}]]) {
        case 'ZILE_DIN_CONT':
            color = '/"blue/"';
            break;
        case 'CONCEDIU_PLATIT':
            color = 'green';
            break;
        case 'CONCEDIU_MEDICAL':
            color = 'yellow';
            break;
        default:
            color = 'gray';
    }

    events.push({
        title: [[${leave.tipConcediu}]],
        start: [[${leave.dataInceput}]],
        end: [[${leave.dataSfarsit}]],
        color: color
    });
    /*[/]*/

    $(document).ready(function() {
        $('#calendar').fullCalendar({
            events: events,
            defaultView: 'month',
            displayEventTime: false
        });
    });
</script>


</body>
</html>
